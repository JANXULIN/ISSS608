{
  "hash": "170648a26df1dc84373971deed5e00a7",
  "result": {
    "markdown": "---\ntitle: \"take home exercise 3\"\nauthor: \"Xu Lin\"\ndate: \"Feb 11, 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\neditor: visual\n---\n\n\n# Background \n As we know Singapore is situated near the equator and it has a typically tropical climate. It has 2 two monsoon seasons, one is Northeast Monsoon(December to early March); the other is Southwest Monsoon(une to September). In this task, we will choose December to analysis the temperature variation.\n\n# Purpose \nDaily mean temperatures are projected to increase by 1.4 to 4.6, while annual mean temperatures rose at an average rate of 0.25 per decade.\nWe want to find out the reasons. \n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, ggrepel, patchwork, \n               ggthemes, hrbrthemes,\n               tidyverse, ggdist, ggridges, colorspace)\n```\n:::\n\n\n# Import data \nI choose the Changi station, December 1983, 1993, 2003, 2013, 2023' temperature data by grouping the data manually. R can not read the degree, so I move it out.\n\n::: {.cell}\n\n```{.r .cell-code}\nTEMData <- read_csv(\"data/DEC1983-2023TEM.csv\") \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(TEMData)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 155\nColumns: 10\n$ Station                     <chr> \"Changi\", \"Changi\", \"Changi\", \"Changi\", \"C…\n$ Year                        <dbl> 1983, 1983, 1983, 1983, 1983, 1983, 1983, …\n$ Month                       <dbl> 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12…\n$ Day                         <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,…\n$ `Daily Rainfall Total (mm)` <dbl> 2.8, 1.7, 5.0, 8.2, 0.0, 0.0, 0.0, 19.8, 4…\n$ `Mean Temperature`          <dbl> 26.4, 24.3, 25.1, 25.2, 26.0, 25.0, 25.6, …\n$ `Maximum Temperature`       <dbl> 31.0, 27.2, 30.2, 30.3, 29.8, 27.7, 28.8, …\n$ `Minimum Temperature`       <dbl> 23.8, 21.9, 23.2, 23.0, 23.0, 23.7, 23.4, …\n$ `Mean Wind Speed (km/h)`    <dbl> 9.1, 4.9, 3.1, 3.2, 4.5, 4.4, 4.9, 5.4, 6.…\n$ `Max Wind Speed (km/h)`     <dbl> 46.1, 36.4, 41.0, 31.7, 28.8, 32.4, 32.8, …\n```\n:::\n:::\n\n\n# Data descripition \nRidgeline plot(also known as Joyplot) is a method to display the distribution of a numeric value for several groups. We use this method to display the December of 1983, 1993, 2003, 2013, 2023's daily mean temperature.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = TEMData, \n       aes(x = `Mean Temperature`, y = as.factor(Year), \n           fill = after_stat(x))) + \n    geom_density_ridges_gradient(\n    scale = 3,\n    rel_min_height = 0.01) +\n  scale_fill_viridis_c(name = \"TEMP\",\n                       option = \"C\") +\n  scale_x_continuous(\n    name = \"Mean Temperature\",\n    expand = c(0, 0)\n  ) +\n  scale_y_discrete(\n    expand = expansion(add = c(0.2, 2.6))\n  ) +\n  theme_ridges() +\n  labs(title = \"Dec Temperature Distribution by Year\",\n    y = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = `Mean Temperature`, y = as.factor(Year), \n           fill = 0.5 - abs(0.5-stat(ecdf)))) +\n  stat_density_ridges(geom = \"density_ridges_gradient\", \n                      calc_ecdf = TRUE) +\n  scale_fill_viridis_c(name = \"Tail probability\",\n                       direction = -1) +\n  theme_ridges()+\n  labs(title = \"Dec Temperature Distribution by Year\",\n    y = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = `Mean Temperature`, y = as.factor(Year),\n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = 4,\n    quantile_lines = TRUE) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  theme_ridges() +\n  labs(title = \"Dec Temperature Distribution by Year\",\n    y = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = `Mean Temperature`, y = as.factor(Year), \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = c(0.025, 0.975)\n    ) +\n  scale_fill_manual(\n    name = \"Probability\",\n    values = c(\"#FF0000A0\", \"#A0A0A0A0\", \"#0000FFA0\"),\n    labels = c(\"(0, 0.025]\", \"(0.025, 0.975]\", \"(0.975, 1]\")\n  ) +\n  theme_ridges()+\n  labs(title = \"Dec Temperature Distribution by Year\",\n    y = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = as.factor(Year), y = `Mean Temperature`)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  labs(title = \"Dec Temperature Distribution by Year\",\n    x = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = as.factor(Year), y = `Mean Temperature`)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  labs(title = \"Dec Temperature Distribution by Year\",\n    x = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = as.factor(Year), y = `Mean Temperature`)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 0.1)+\n  labs(title = \"Dec Temperature Distribution by Year\",\n    x = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(TEMData,\n       aes(x = as.factor(Year), y = `Mean Temperature`)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 0.1) +\n  coord_flip() +\n  theme_economist()+\n  labs(title = \"Dec Temperature Distribution by Year\",\n    x = \"Year\")\n```\n\n::: {.cell-output-display}\n![](take-home-exercise-3_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "take-home-exercise-3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}